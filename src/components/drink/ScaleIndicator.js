import React from 'react';
import { Indicator, Caption } from './Indicator';

const angles = [-39, 0, 39];

export default function ScaleIndicator({ value, label }) {
  if (!value || value < 1 || value > 3) {
    return null;
  }

  const deg = angles[value - 1];
  return (
    <Indicator>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        viewBox="119.988 170.979 459.011 309.024"
      >
        <g>
          <path
            d="M 439.798 186.327
              C 492.244 204.662 548.031 248.29 578.999 302.018
              C 548.427 319.451 507.932 343.644 462.446 370.287
              C 446.905 343.204 422.787 322.817 394 313.4
              C 412.295 261.744 421.925 235.919 439.798 186.327 Z"
            fill="hsl(224, 5.5%, 79%)"
          />
          <path
            d="M 258.798 186.344
              C 310.851 166.923 381.641 164.818 439.798 186.344
              C 427.43 219.292 411.751 263.781 393.798 313.344
              C 364.535 302.45 332.956 302.187 304.798 313.344
              C 285.851 261.923 276.751 235.908 258.798 186.344 Z"
            fill="hsl(224, 7.5%, 61%)"
          />
          <path
            d="M 119.988 302.187
              C 147.547 253.947 200.586 207.017 259.047 186.327
              C 270.635 219.557 287.066 263.774 305 313.344
              C 275.544 323.706 251.114 343.718 236.623 370.314
              C 189.151 342.937 165.506 328.775 119.988 302.187 Z"
            fill="hsl(250, 7.5%, 40%)"
          />
          <path
            d="M 372.738 402.019
              C 384.122 409.531 391.828 422.362 392 437
              C 392.276 460.456 372.808 480.28 349 480
              C 325.192 479.72 306.724 460.456 307 437
              C 307.176 422.026 314.827 409.165 326.349 401.751
              L 326.349 401.751
              L 350 217
              L 372.738 402.019 Z
              M 348.798 420
              C 358.457 419.724 367.392 427.916 366.798 438
              C 366.205 448.084 358.118 454.265 348.798 454
              C 339.479 453.735 332.33 447.026 331.798 438
              C 331.267 428.974 339.14 420.276 348.798 420
              L 348.798 420
              Z"
            fillRule="evenodd"
            fill="currentColor"
            transform={`rotate(${deg} 350 438)`}
          />
        </g>
      </svg>
      <Caption>{label}</Caption>
    </Indicator>
  );
}
